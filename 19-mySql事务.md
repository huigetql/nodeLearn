## 事务

+ 当一个业务逻辑需要多次sql语句完成时，如果某个sql语句出错时，则整个操作回滚

+ 使用事务可以完成退回功能，确保业务逻辑的正确性

+ 事务四大特性（ACID）

  + 原子性(Atomicity) : 事务中的全部操作在数据库中是不可分割的，要么全部完成，要么均不执行
  + 一致性(Consistency) : 几个并行执行的事务，其执行结果必须与按某一顺序串行执行的结果相一致
  + 隔离性(Isolation) : 事务的执行不受其他事务的干扰，事务执行的中间结果对其他事务必须是透明的
  + 持久性(Durability) : 对于任意已提交事务，系统必须保证该事务对数据库的改变不会丢失，即使数据库出现故障

+ 要求：表的类型必须是innodb或者bdb类型才可以对此表使用事务

+ 查看表的创建语句(查看是否是以上类型)

  ```
  show create table 表名
  ```

+ 修改表的类型

  ```
  alter table 表名 engine=innodb
  ```

+ 事务语句

  ```
  开启 begin
  提交 commit 
  回滚 rollback
  ```

+ 步骤

  ```
  begin;
  sql语句···
  commit;或者rollback;
  ```

  

